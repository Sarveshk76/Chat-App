{% extends "base.html" %}
{% load static %}
{% block content %}

        <!-- Start contacts tab-pane -->
        <div class="tab-pane active" id="pills-contacts" role="tabpanel" aria-labelledby="pills-contacts-tab">
            <!-- Start Contact content -->
            <div>
                <div class="p-4">
                    <div class="user-chat-nav float-end">
                        <div data-bs-toggle="tooltip" data-bs-placement="bottom" title="" data-bs-original-title="Add Contact">
                            <!-- Button trigger modal -->
                            <button type="button" class="btn btn-link text-decoration-none text-muted font-size-18 py-0" data-bs-toggle="modal" data-bs-target="#addContact-exampleModal">
                                <i class="ri-user-add-line"></i>
                            </button>
                        </div>
                    </div>
                    <h4 class="mb-4">Contacts</h4>

                    <!-- Start Add contact Modal -->
                    <div class="modal fade" id="addContact-exampleModal" tabindex="-1" role="dialog" aria-labelledby="addContact-exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title font-size-16" id="addContact-exampleModalLabel">Add Contact</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                    </button>
                                </div>
                                <div class="modal-body p-4">
                                    <form>
                                        <div class="mb-3">
                                            <label for="addcontactemail-input" class="form-label">Email</label>
                                            <input type="email" class="form-control" id="addcontactemail-input" placeholder="Enter Email">
                                        </div>
                                        <div class="mb-3">
                                            <label for="addcontact-invitemessage-input" class="form-label">Invatation Message</label>
                                            <textarea class="form-control" id="addcontact-invitemessage-input" rows="3" placeholder="Enter Message"></textarea>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-link" data-bs-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-primary">Invite Contact</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Add contact Modal -->

                    <div class="search-box chat-search-box">
                        <div class="input-group bg-light  input-group-lg rounded-3">
                            <div class="input-group-prepend">
                                <button class="btn btn-link text-decoration-none text-muted pe-1 ps-3" type="button">
                                    <i class="ri-search-line search-icon font-size-18"></i>
                                </button>
                            </div>
                            <input type="text" class="form-control bg-light" placeholder="Search users..">
                        </div>
                    </div>
                    <!-- End search-box -->
                </div>
                <!-- end p-4 -->

                <!-- Start contact lists -->
                <div class="p-4 chat-message-list chat-group-list" data-simplebar="init"><div class="simplebar-wrapper" style="margin: -24px;"><div class="simplebar-height-auto-observer-wrapper"><div class="simplebar-height-auto-observer"></div></div><div class="simplebar-mask"><div class="simplebar-offset" style="right: -17px; bottom: 0px;"><div class="simplebar-content-wrapper" style="height: 100%; overflow: hidden scroll;"><div class="simplebar-content" style="padding: 24px;">

                    <div>
                        <div class="p-3 fw-bold text-primary">
                            A
                        </div>

                        <ul class="list-unstyled contact-list" id="list">
                            

                           
                        </ul>
                    </div>
                    <!-- end contact list S -->
                </div></div></div></div><div class="simplebar-placeholder" style="width: auto; height: 1599px;"></div></div><div class="simplebar-track simplebar-horizontal" style="visibility: hidden;"><div class="simplebar-scrollbar" style="transform: translate3d(0px, 0px, 0px); display: none;"></div></div><div class="simplebar-track simplebar-vertical" style="visibility: visible;"><div class="simplebar-scrollbar" style="transform: translate3d(0px, 0px, 0px); display: block; height: 346px;"></div></div></div>
                <!-- end contact lists -->
            </div>
            <!-- Start Contact content -->
        </div>
        <!-- End contacts tab-pane -->
        <script>
            const all_users = {{all_users_json|safe}};
            var list = document.getElementById("list");
            all_users.forEach((user)=>{
                list.innerHTML += `<li>
                    <div class="d-flex align-items-center">
                        <div class="flex-grow-1">
                            <h5 class="font-size-14 m-0">`+user['fields']['first_name']+' '+user['fields']['last_name']+`</h5>
                        </div>
                        <div class="dropdown">
                            <a href="#" class="text-muted dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="ri-more-2-fill"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <a class="dropdown-item" href="#">Share <i class="ri-share-line float-end text-muted"></i></a>
                                <a class="dropdown-item" href="#">Block <i class="ri-forbid-line float-end text-muted"></i></a>
                                <a class="dropdown-item" href="#">Remove <i class="ri-delete-bin-line float-end text-muted"></i></a>
                            </div>
                        </div>
                    </div>
                </li>`;
            });

           

        </script>
{% endblock %}
